
# This class was automatically generated from XRC source. It is not
# recommended that this file is edited directly; instead, inherit from
# this class and extend its behaviour there.  
#
# Source file: new_proj_dialog.xrc 
# Generated at: 2010-01-03 15:11:35 +0800

class NewPorjDialog < Wx::Dialog
  ID_OK = 0
  ID_CANCEL = 1
  
  attr_reader :m_bitmap1, :m_staticline1, :tc_proj_name,
              :tc_dir, :b_select_dir, :b_ok, :b_cancel
  
  def initialize(parent = nil)
    super()
    xml = Wx::XmlResource.get
    xml.flags = 2 # Wx::XRC_NO_SUBCLASSING
    xml.init_all_handlers
    xml.load(".res/xrc/new_proj_dialog.xrc")
    xml.load_dialog_subclass(self, parent, "NewPorjDialog")
    
    finder = lambda do | x | 
      int_id = Wx::xrcid(x)
      begin
        Wx::Window.find_window_by_id(int_id, self) || int_id
        # Temporary hack to work around regression in 1.9.2; remove
        # begin/rescue clause in later versions
      rescue RuntimeError
        int_id
      end
    end
    
    @m_bitmap1 = finder.call("m_bitmap1")
    @m_staticline1 = finder.call("m_staticline1")
    @tc_proj_name = finder.call("tc_proj_name")
    @tc_dir = finder.call("tc_dir")
    @b_select_dir = finder.call("b_select_dir")
    @b_ok = finder.call("b_ok")
    @b_cancel = finder.call("b_cancel")
    if self.class.method_defined? "on_init"
      self.on_init()
    end
  end
  
  def evt_for_select_dir
    evt_button(@b_select_dir) do |evt|
      dir_dialog = Wx::DirDialog.new(self)
      if (ID_OK == dir_dialog.show_modal) then
        @tc_dir.set_value(dir_dialog.get_path)
      end 
    end
  end
  
  def evt_for_cancel
    evt_button(@b_cancel) do |evt|
      end_modal(ID_CANCEL)
    end
  end
  
  def evt_for_ok
    evt_button(@b_ok) do |evt|
      if
      proj_name = @tc_proj_name.get_value
      Dir.entries("./res/yaml/").include?()
      end_modal(ID_OK)
    end
  end
  
end


